---
title: 零知识卷叠
description: 零知识卷叠介绍
lang: zh
sidebar: true
---

## 前提条件 {#prerequisites}

您应该很好地了解所有基本主题，并且对[以太坊扩容](/developers/docs/scaling/)具有高层次的理解。 实现诸如卷叠之类的扩容解决方案是一个高阶主题，因为该技术没有经过多少实战测试，还在继续研发中。

## 零知识卷叠 {#zk-rollups}

**零知识卷叠**将数百个链下交易捆绑（或“卷叠”），并生成一个加密证明。 这些证明可以采用 SNARK（简洁的非交互式知识论证）或 STARK（可扩展的透明知识论证）的形式。 “简洁的非交互式知识论证”和“可扩展的透明知识论证”均称为有效性证明，并发布到第一层。

零知识卷叠智能合约在第二层维护所有转账的状态，这个状态只能用有效性证明来更新。 这意味着零知识卷叠只需要有效性证明，而不是所有交易数据。 使用零知识卷叠验证一个区块会更快、更便宜，因为包含的数据更少。

通过零知识卷叠，当资金从第二层转移到第一层时不会有任何延迟，因为零知识卷叠智能合约接受的有效性证明已经验证了资金。

零知识卷叠处于第二层，可以优化以进一步减小交易的大小。 例如，一个帐户由一个索引而不是一个地址来表示，这就把一个交易从 32 个字节减少到只有 4 个字节。 交易也作为 `calldata` 写入以太坊，可减少燃料消耗。

### 优点和缺点 {#zk-pros-and-cons}

| 优点                                                                      | 缺点                                                                 |
| ------------------------------------------------------------------------- | -------------------------------------------------------------------- |
| 完成时间更快，因为一旦有效性证明被送到主链上，状态将即时验证。            | 有一些不支持以太坊虚拟机。                                           |
| 不太容易受到[乐观卷叠](#optimistic-pros-and-cons)可能容易受到的经济攻击。 | 有效性证明的计算量很大 -- 对于链上活动很少的应用来说，不值得这样做。 |
| 安全且去中心化，因为恢复状态所需的数据储存在第一层链上。                  | 运营者可以影响交易顺序                                               |

### 零知识卷叠的直观解释 {#zk-video}

观看 Finematics 解说零知识卷叠的视频：

<YouTube id="7pWxCklcNsU" start="406" />

### 使用零知识卷叠 {#use-zk-rollups}

存在多种零知识卷叠的实现方式，您可以整合到您的去中心化应用程序中。

<RollupProductDevDoc rollupType="zk" />

**零知识卷叠相关阅读**

- [什么是零知识 Rollup？](https://coinmarketcap.com/alexandria/glossary/zero-knowledge-rollups)
- [Zk-rollup 上的 EthHub](https://docs.ethhub.io/ethereum-roadmap/layer-2-scaling/zk-rollups/)
- [“简洁的非交互式知识论证”对比“可扩展的透明知识论证”](https://consensys.net/blog/blockchain-explained/zero-knowledge-proofs-starks-vs-snarks/)
